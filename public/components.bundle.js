(function (designSystem, React) {
	'use strict';

	function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

	var React__default = /*#__PURE__*/_interopDefault(React);

	const ImageUploader = ({
	  onChange,
	  record
	}) => {
	  const handleUpload = React.useCallback(async files => {
	    onChange("name", "");
	    onChange("contentType", "");
	    const [file] = files;
	    const formData = new FormData();
	    formData.append("image", file);
	    let id = "";
	    if (record.params?.bucketId) {
	      id = record.params.bucketId;
	    }
	    const res = await fetch("/image-upload" + (id ? `/${id}` : "/010"), {
	      method: "POST",
	      body: formData
	    }).then(res => res.json());
	    if (res.id) {
	      onChange("name", file.name);
	      onChange("contentType", file.type);
	      onChange("bucketId", res.id);
	    }
	  }, [onChange]);
	  return /*#__PURE__*/React__default.default.createElement(designSystem.Box, null, /*#__PURE__*/React__default.default.createElement(designSystem.DropZone, {
	    validate: {
	      mimeTypes: ["image/jpeg", "image/png"]
	    },
	    onChange: files => handleUpload(files)
	  }));
	};

	const ImageShow = ({
	  record,
	  property
	}) => {
	  const [image, setImage] = React.useState({});
	  React.useEffect(() => {
	    const getImage = async id => {
	      const data = await fetch(`/image/${id}`).then(res => res.json());
	      console.log(data);
	      setImage({
	        ...data,
	        data: `data:${data.contentType};base64,${data.data}`
	      });
	    };
	    if (record.params?.bucketId) {
	      getImage(record.params.bucketId);
	    }
	  }, [record, property.name]);
	  return /*#__PURE__*/React__default.default.createElement(designSystem.Box, null, /*#__PURE__*/React__default.default.createElement("img", {
	    src: image?.data,
	    alt: "Image",
	    style: {
	      maxWidth: 120
	    }
	  }));
	};

	AdminJS.UserComponents = {};
	AdminJS.UserComponents.ImageUploader = ImageUploader;
	AdminJS.UserComponents.ImageShow = ImageShow;

})(AdminJSDesignSystem, React);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy9JbWFnZVVwbG9hZGVyLmpzeCIsIi4uL3NyYy9jb21wb25lbnRzL0ltYWdlU2hvdy5qc3giLCJlbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb3gsIERyb3Bab25lIH0gZnJvbSBcIkBhZG1pbmpzL2Rlc2lnbi1zeXN0ZW1cIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuXG5jb25zdCBJbWFnZVVwbG9hZGVyID0gKHsgb25DaGFuZ2UsIHJlY29yZCB9KSA9PiB7XG5cdGNvbnN0IGhhbmRsZVVwbG9hZCA9IHVzZUNhbGxiYWNrKFxuXHRcdGFzeW5jIChmaWxlcykgPT4ge1xuXHRcdFx0b25DaGFuZ2UoXCJuYW1lXCIsIFwiXCIpO1xuXHRcdFx0b25DaGFuZ2UoXCJjb250ZW50VHlwZVwiLCBcIlwiKTtcblx0XHRcdGNvbnN0IFtmaWxlXSA9IGZpbGVzO1xuXHRcdFx0Y29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcblx0XHRcdGZvcm1EYXRhLmFwcGVuZChcImltYWdlXCIsIGZpbGUpO1xuXG5cdFx0XHRsZXQgaWQgPSBcIlwiO1xuXG5cdFx0XHRpZiAocmVjb3JkLnBhcmFtcz8uYnVja2V0SWQpIHtcblx0XHRcdFx0aWQgPSByZWNvcmQucGFyYW1zLmJ1Y2tldElkO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcIi9pbWFnZS11cGxvYWRcIiArIChpZCA/IGAvJHtpZH1gIDogXCIvMDEwXCIpLCB7XG5cdFx0XHRcdG1ldGhvZDogXCJQT1NUXCIsXG5cdFx0XHRcdGJvZHk6IGZvcm1EYXRhLFxuXHRcdFx0fSkudGhlbigocmVzKSA9PiByZXMuanNvbigpKTtcblxuXHRcdFx0aWYgKHJlcy5pZCkge1xuXHRcdFx0XHRvbkNoYW5nZShcIm5hbWVcIiwgZmlsZS5uYW1lKTtcblx0XHRcdFx0b25DaGFuZ2UoXCJjb250ZW50VHlwZVwiLCBmaWxlLnR5cGUpO1xuXHRcdFx0XHRvbkNoYW5nZShcImJ1Y2tldElkXCIsIHJlcy5pZCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRbb25DaGFuZ2VdXG5cdCk7XG5cdHJldHVybiAoXG5cdFx0PEJveD5cblx0XHRcdDxEcm9wWm9uZVxuXHRcdFx0XHR2YWxpZGF0ZT17e1xuXHRcdFx0XHRcdG1pbWVUeXBlczogW1wiaW1hZ2UvanBlZ1wiLCBcImltYWdlL3BuZ1wiXSxcblx0XHRcdFx0fX1cblx0XHRcdFx0b25DaGFuZ2U9eyhmaWxlcykgPT4gaGFuZGxlVXBsb2FkKGZpbGVzKX1cblx0XHRcdC8+XG5cdFx0PC9Cb3g+XG5cdCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBJbWFnZVVwbG9hZGVyO1xuIiwiaW1wb3J0IHsgQm94IH0gZnJvbSBcIkBhZG1pbmpzL2Rlc2lnbi1zeXN0ZW1cIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmNvbnN0IEltYWdlU2hvdyA9ICh7IHJlY29yZCwgcHJvcGVydHkgfSkgPT4ge1xuXHRjb25zdCBbaW1hZ2UsIHNldEltYWdlXSA9IHVzZVN0YXRlKHt9KTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGNvbnN0IGdldEltYWdlID0gYXN5bmMgKGlkKSA9PiB7XG5cdFx0XHRjb25zdCBkYXRhID0gYXdhaXQgZmV0Y2goYC9pbWFnZS8ke2lkfWApLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSk7XG5cblx0XHRcdGNvbnNvbGUubG9nKGRhdGEpO1xuXG5cdFx0XHRzZXRJbWFnZSh7IC4uLmRhdGEsIGRhdGE6IGBkYXRhOiR7ZGF0YS5jb250ZW50VHlwZX07YmFzZTY0LCR7ZGF0YS5kYXRhfWAgfSk7XG5cdFx0fTtcblx0XHRpZiAocmVjb3JkLnBhcmFtcz8uYnVja2V0SWQpIHtcblx0XHRcdGdldEltYWdlKHJlY29yZC5wYXJhbXMuYnVja2V0SWQpO1xuXHRcdH1cblx0fSwgW3JlY29yZCwgcHJvcGVydHkubmFtZV0pO1xuXHRyZXR1cm4gKFxuXHRcdDxCb3g+XG5cdFx0XHQ8aW1nIHNyYz17aW1hZ2U/LmRhdGF9IGFsdD1cIkltYWdlXCIgc3R5bGU9e3sgbWF4V2lkdGg6IDEyMCB9fSAvPlxuXHRcdDwvQm94PlxuXHQpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VTaG93O1xuIiwiQWRtaW5KUy5Vc2VyQ29tcG9uZW50cyA9IHt9XG5pbXBvcnQgSW1hZ2VVcGxvYWRlciBmcm9tICcuLi9zcmMvY29tcG9uZW50cy9JbWFnZVVwbG9hZGVyJ1xuQWRtaW5KUy5Vc2VyQ29tcG9uZW50cy5JbWFnZVVwbG9hZGVyID0gSW1hZ2VVcGxvYWRlclxuaW1wb3J0IEltYWdlU2hvdyBmcm9tICcuLi9zcmMvY29tcG9uZW50cy9JbWFnZVNob3cnXG5BZG1pbkpTLlVzZXJDb21wb25lbnRzLkltYWdlU2hvdyA9IEltYWdlU2hvdyJdLCJuYW1lcyI6WyJJbWFnZVVwbG9hZGVyIiwib25DaGFuZ2UiLCJyZWNvcmQiLCJoYW5kbGVVcGxvYWQiLCJ1c2VDYWxsYmFjayIsImZpbGVzIiwiZmlsZSIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJpZCIsInBhcmFtcyIsImJ1Y2tldElkIiwicmVzIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5IiwidGhlbiIsImpzb24iLCJuYW1lIiwidHlwZSIsIlJlYWN0IiwiY3JlYXRlRWxlbWVudCIsIkJveCIsIkRyb3Bab25lIiwidmFsaWRhdGUiLCJtaW1lVHlwZXMiLCJJbWFnZVNob3ciLCJwcm9wZXJ0eSIsImltYWdlIiwic2V0SW1hZ2UiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsImdldEltYWdlIiwiZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJjb250ZW50VHlwZSIsInNyYyIsImFsdCIsInN0eWxlIiwibWF4V2lkdGgiLCJBZG1pbkpTIiwiVXNlckNvbXBvbmVudHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Q0FHQSxNQUFN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
